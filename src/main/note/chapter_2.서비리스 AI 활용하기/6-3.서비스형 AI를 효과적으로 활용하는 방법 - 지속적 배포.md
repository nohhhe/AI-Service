6-3.서비스형 AI를 효과적으로 활용하는 방법 - 지속적 배포
=========================
효과적인 서버리스 애플리케이션에는 지속적 배포(CD)가 필요하다. 지속적 배포는 애플리케이션을 자동으로 배포하는 프로세스이다. 지속적 통합(CI)과 함께 사용되며 코드 변경 사항이 자동으로 테스트되고 배포되는 것을 보장한다.

## ⭕ 지속적 배포 설계
<img src="../../resources/images/chapter_2.서비리스 AI 활용하기/지속적 배포 설계.jpg" alt="지속적 배포 설계.jpg" style="width: 100%; height: auto;" />

### ◉ 배포 파이프라인
1. 변경 감지 작업은 소스 코드 커밋의 영향을 받는 모듈을 결정한다.
2. 다음 파이프라인은 각 모듈의 병렬 빌드를 트리거한다. 이러한 빌드 작업은 관련 모듈에 대한 단위테스트도 실행한다.
3. 모든 빌드가 성공하면 모듈이 스테이징 환경에 배포된다.
4. 새로운 변경 사항이 예측 가능한 테스트 조건에서 시스템의 기본 기능을 손상시키지 않는다는 확신을 주는 일련의 자동화된 종단간 테스트를 실행한다.
5. 모든 테스트가 성공하면 새 모듈이 프로덕션에 배포된다.

## ⭕ AWS 서비스로 지속적 배포(CD) 구현
### ◉ 지속적 배포 파이프라인 구축하기
<img src="../../resources/images/chapter_2.서비리스 AI 활용하기/지속적 배포 파이프라인 구축하기.jpg" alt="지속적 배포 파이프라인 구축하기.jpg" style="width: 100%; height: auto;" />

파이프라인에 사용할 AWS 서비스는 AWS 코드빌드와 코드 파이프라인이다.

코드빌드는 설치, 컴파일, 테스트와 같은 빌드 단계를 수행한다.

코드파이프라인은 일반적으로 빌드 아티팩트를 출력한다. 코드파이프라인은 여러 작업을 여러 단계로 결합한다. 작업에는 소스 가져오기, 코드빌드 실행, 배포, 수동 승인 단계가 포함된다. 작업은 순서대로 실행거나 병렬로 실행할 수 있다.

저장소의 마스터 브랜치에 커밋하거나 병합할 떄 마다 영향을 받는 모듈을 병렬로 빌드하고 배포한다. 모듈별로 별도의 파이프라인을 생성하는데 해당 파이프라인은 하나의 전체 오케스트레이터 파이프라인에서 실행 및 모니터링된다.

서버리스 애플리케이션과 마찬가지로 클라우드포메이션 스택을 사용하여 배포하고 배포 스택의 경우 AWS 클라우드 개발 키트(CDK)를 사용한다.

CDK는 클라우드포메이션 템플릿을 구성하는 프로그래밍 방식을 제공한다. 애플리케이션에 새 모듈을 추가하면 CDK가 새 리소스를 자동으로 생성하며 CDK는 자바스크립트, 파이썬, 자바, 타입스크립트를 지원한다.





6-2.서비스형 AI를 효과적으로 활용하는 방법 - 프로젝트 구조 구축
=========================
## ⭕ 소스코드 저장소 - 모노레포 혹은 폴리레포
### ◉ 모노레포
모노레포란 모든 프로젝트(서비스, 라이브러리 등)를 하나의 저장소에 두는 것을 의미한다.

구글, 페이스북, 트위터 등 대규모 모노레포를 사용한다고 알려져 있다.

#### ✦ 장점
1. 코드 공유가 쉬움: 라이브러리/모듈 간 의존성 관리가 용이
2. 일관된 빌드/테스트 설정 가능 
3. 원자적 변경 가능: 여러 패키지 동시 수정 시 추적이 쉬움 
4. CI/CD 파이프라인, 린트, 포맷팅 등 통합 관리 가능

#### ✦ 단점
1. 리포지토리가 커짐: 전체 프로젝트 다운로드 시간 증가
2. 의존성 충돌 가능성 
3. 특정 프로젝트만 사용하는 유틸도 전부 포함됨 
4. 툴링(예: 빌드 도구) 세팅이 복잡해질 수 있음

### ◉ 폴리레포
모노레포란 각 프로젝트(서비스, 라이브러리 등)를 별도의 저장소에 두는 것을 의미한다.

#### ✦ 장점
1. 작고 관리하기 쉬운 단위로 분리 
2. 각 프로젝트마다 독립적인 릴리즈/버전 관리 가능 
3. 팀마다 자유롭게 개발 진행 가능 
4. 이슈나 변경 이력이 명확히 구분됨

#### ✦ 단점
1. 코드 공유가 번거로움: 라이브러리 중복 발생 가능 
2. 버전 충돌 관리 필요: 종속성 간 버전 맞추기 어렵다 
3. 여러 서비스에 걸친 동시 변경이 불편함 
4. CI/CD 설정도 각각 관리해야 해서 중복됨

#### ❗️ 서버리스 애플리케이션을 구축할 때는 모노레포를 선호한다.
- 서버리스 애플리케이션은 여러 서비스로 구성되어 있기 때문에 모노레포를 사용하면 코드 공유와 의존성 관리가 용이하다.
- 서버리스는 함수 단위로 배포되므로 함수별로 빌드 및 배포 설정이 필요하다. 모노레포에서는 이러한 설정을 통합 관리할 수 있다.
- 공통 유틸 수정, 여러 람다 반영이 필요한 경우 모노레포에서 원자적 변경이 가능하다.
- serverless framework, AWS SAM, CDK, sst 같은 도구들은 모노레포 구조를 잘 지원한다. 로컬에서 여러 Lambda를 한 번에 실행하거나 통합 테스트를 할 때 편리하다.
- 환경변수, IAM 설정, VPC 구성 등 인프라 설정이 많고 서버리스는 이를 IaC (예: CDK, Terraform 등)로 관리한다.

#### ❓️ IaC란?
IaC(Infrastructure as Code)는 인프라를 코드로 관리하는 방법론이다. 서버리스 애플리케이션은 IaC를 사용하여 인프라를 코드로 정의하고 관리한다.

##### 대표적인 IaC 도구
- AWS CDK: AWS 전용, 프로그래밍 언어 기반 (TypeScript, Python 등)
- AWS CloudFormation: JSON/YAML로 선언
- Terraform: 멀티 클라우드 지원, 선언형 언어

##### IaC의 장점
1. 버전 관리 가능 – Git으로 인프라 변경 이력 추적 가능
2. 재현성 보장 – 누구든 동일한 코드로 같은 환경 구성 가능
3. 자동화 – 배포 시 수작업 줄이고, CI/CD에 통합 가능
4. 검증 및 테스트 – 코드 검토, 린트, 테스트 등 품질 관리 가능

